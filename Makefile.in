# $Id: Makefile.in,v 1.4 2000/08/14 00:16:16 leonard Exp $

PYTHON=		@PYTHON@
LIBDEST=	@LIBDEST@
INSTALL=	$(LIBDEST)/config/install-sh
INSTALL_DATA=	$(INSTALL) -m 644
INSTALL_DIR=	mkdir -p
srcdir=		@srcdir@

MAKEVARS=	SRCDIR=$(srcdir)/Modules VPATH=$(srcdir)/Modules

all:
	cd Modules && $(MAKE) $(MAKEVARS)

install:
	cd Modules && $(MAKE) $(MAKEVARS) install
	$(INSTALL_DIR) $(DESTDIR)$(LIBDEST)/site-packages/python-ldap
	$(INSTALL_DATA) $(srcdir)/python-ldap.pth \
		$(DESTDIR)$(LIBDEST)/site-packages/python-ldap.pth
	#-- XXX need to copy contents of $(srcdir)/Lib/* to the new directory
	$(PYTHON) $(LIBDEST)/compileall.py \
		$(DESTDIR)$(LIBDEST)/site-packages/python-ldap

